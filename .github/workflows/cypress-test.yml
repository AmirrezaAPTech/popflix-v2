name: Cypress Tests

on: [push]

defaults:
  run:
    shell: bash
    working-directory: frontend

jobs:
 Cypress-Test:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout repo
       uses: actions/checkout@v2
     - name: Setup Node.js
       uses: actions/setup-node@v3
       with:
        node-version: 18
     - name: Run cypress test
       uses: cypress-io/github-action@v2
       with:
         working-directory: frontend
         start: npm start
         build: npm build
         test:prod: npm run test:prod
         browser: chrome